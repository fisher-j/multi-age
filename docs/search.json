[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Redwoood multi-age experiment",
    "section": "",
    "text": "1 Introduction\nThis is an analysis of the 10-year remeasure of the Redwood multi-age experiment. It was started by Dr. Pascal Berrill, professor of silviculture at Cal-Poly Humboldt. The experiment is located in the Jackson Demonstration State Forest in Mendocino County, California. The multi-age experiment explores the regeneration response of several species following different harvesting techniques including group selection, aggregated retention, and high/low dispersed retention. The 10-year remeasure data includes surface fuel characterization."
  },
  {
    "objectID": "data_description.html",
    "href": "data_description.html",
    "title": "2  Data description",
    "section": "",
    "text": "3 Fuel data\nThe fuel data was gathered in the spring of 2022 and 2023. The Firemon protocol was used as the basis for data collection which in turn employs the use of Brown’s transects, with the addition of vegetation sample plots in which vegetative fuel loading is estimated within a 1 meter radius cylinder.\nThe notion of fuel bed depth is notably absent from the Firemon protocol, so we added it by estimating an “average” fuel bed depth within the vegetation sampling cylinder that included litter, and all downed woody debris.\nDominant (well represented) woody speices were also recorded in the vegetation cylinders."
  },
  {
    "objectID": "data_description.html#data-entry",
    "href": "data_description.html#data-entry",
    "title": "2  Data description",
    "section": "3.1 Data entry",
    "text": "3.1 Data entry\nData was entered using Excel and exported as a UTF-8 csv. The file format (Figure 3.1) was defined to resemble the physical datasheets as closely as possible, while maintaining data integretity and facilitating ease of input. There is one file for each macro plot (or replicate = site + treatment combination).\nEach file includes sections for different tables, and these are separated by a line that contains only a single hashtag (e.g., “#duff_litter_fbd”) in lowercase letters with underscores for spaces. In Excel, the #hashtag should go in the first cell of a row, with nothing esle in the row. There should be no blank rows before or after hashtags. The table sections used don’t correlate 1:1 with physical datasheet tables. For instance, columns for “metermeark1” and “metermark2” were added to reflect the fact initially, we sampled vegetation at 5 and 10 m, but later we moved this sampling to 5 and 9 m. The “1” and “2” following repeated variable names refers to one of these locations along the transect. A complete description of data varialbes can be found below\n\n#site_info\n\nsite\ntreatment\ndate\nonehr\ntenhr\nhundhr\nthoushr\ntrans_count\nnotes site level notes, should not contain commas\n\n#transects\n\ntransect number 1 through 8, corresponds with transect column in other sections\ncorner\nazi\nfwd_crew\nveg_crew moved from vegetation table to here\nslope\nmetermark1 location along transect of first veg station\nmetermark2 location along transect of second veg station\nnotes transect specific notes\n\n#duff_litter_fbd\n\ntransect number 1 through 8\nonehr\ntenhr\nhundhr\nduff_litter1\npct_litter1\nfbd1\nduff_litter2\npct_litter2\nfbd2\n\n#vegetation\n\ntransect number 1 though 8\nlive_woody1\ndead_woody1\navg_w_ht1\nlive_herb1\ndead_herb1\navg_h_ht1\nlive_woody2\ndead_woody2\navg_w_ht2\nlive_herb2\ndead_herb2\navg_h_ht2\n\n#woody_species\n\ntransect\nspecies1 space-delimited list of ‘significant’ species\nspecies2 space-delimited list of ‘significant’ species\n\n#coarse_woody_debris\n\ntransect\ndia\ndecay\n\n\n\n\n\nFigure 3.1: Screenshot of an examle of the datasheet entry format. Each section, defined by a begining hashtag is parsed by an r function as a seperate table.\n\n\nAn R function is used to parse this file into individual tables. As part of this process, all the table sections whose rows have a 1:1 relationship with transects are combined into one wide table.\n\n# This function processess one datasheet and returns three tables that can\n# be combined with corresponding tables from other data sheets\nwrangle_datasheet &lt;- function(file) {\n  con &lt;- file(file, encoding = \"UTF-8\")\n  lines &lt;- readLines(con)\n  close(con)\n\n  # Remove BOM &lt;https://stackoverflow.com/a/67906611&gt;\n  lines[1] &lt;- gsub(\"\\\\xef\\\\xbb\\\\xbf\", \"\", lines[1], useBytes = TRUE)\n\n  # These are the sections I want to extract\n  to_get &lt;- c(\"site_data\", \"transects\", \"duff_litter_fbd\", \"vegetation\",\n            \"woody_species\", \"coarse_woody_debris\")\n  # sections are defined by line with only a hashtage (#section)\n  section_pattern &lt;- \"^#(\\\\w+).*$\"\n\n  # find hashtags and get the data from the next line to the line\n  # before the next hashtag\n  section_breaks &lt;- grep(section_pattern, lines)\n  section_start &lt;- section_breaks + 1\n  section_end &lt;- c(section_breaks[-1], length(lines)) - 1\n  section_names &lt;- gsub(section_pattern, \"\\\\1\", lines[section_breaks])\n\n  sections &lt;- purrr::map2(section_start, section_end, \\(x, y) c(x, y)) |&gt;\n    setNames(section_names) |&gt;\n    (`[`)(to_get) |&gt;\n    purrr::map(\\(x) lines[seq.int(x[1], x[2])]) |&gt;\n    # collapse sections to strings so they can be read as if they were files\n    purrr::map(\\(x) paste(x, collapse = \"\\n\")) |&gt;\n    purrr::map(\\(x)\n      # leave empty column names so they can be removed\n      readr::read_csv(x, show_col_types = FALSE, name_repair = \"minimal\")\n    ) |&gt;\n    # Remove empty columns\n    purrr::map(\\(x) x[!names(x) %in% \"\"])\n\n  # I'm going to combine these into a wide table because each row is a transect.\n  # Further data wrangling will require expanding the stations within transecs.\n  # also need to make sure the rows have site data and transect ids for the\n  # coarse woody debris.\n  transect_data &lt;- c(\n    \"transects\", \"duff_litter_fbd\", \"vegetation\", \"woody_species\"\n  )\n\n  transects &lt;- sections |&gt; \n    (`[`)(transect_data) |&gt; \n    purrr::reduce(dplyr::left_join, by = \"transect\") |&gt;\n    dplyr::mutate(\n      sections$site_data[c(\"site\", \"treatment\")], \n      .before = corner \n    ) |&gt;\n    dplyr::select(-transect)\n\n  coarse_woody_debris &lt;- sections$coarse_woody_debris |&gt;\n    dplyr::mutate(\n       sections$site_data[c(\"site\", \"treatment\")], \n      .after = transect\n    ) |&gt;\n    dplyr::left_join(sections$transects[c(\"transect\", \"corner\", \"azi\")]) |&gt;\n    dplyr::select(c(site, treatment, corner, azi, dia, decay))\n\n  # Final output with three tables. These will be combined with corresponding \n  # tables from other datasheets.\n  list(\n    plots = sections$site_data,\n    transects = transects,\n    coarse_woody = coarse_woody_debris\n  )\n}\n\nThe resulting data looks like this\n\nwrangle_datasheet(\"../data/fuel_waldon_gs.csv\")\n\nJoining with `by = join_by(transect)`\n\n\n$plots\n# A tibble: 1 × 9\n  site   treatment date      onehr tenhr hundhr thoushr trans_count notes       \n  &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;       \n1 waldon gs        3/15/2023     2     2      4      10           8 switched se…\n\n$transects\n# A tibble: 8 × 33\n  site   treatment corner   azi fwd_crew veg_crew slope metermark1 metermark2\n  &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;\n1 waldon gs        n        135 jf       ac           4          5         10\n2 waldon gs        n        248 jf       ac          19          5         10\n3 waldon gs        w         45 dr       dr           8          5         10\n4 waldon gs        w        135 dr       dr          20          5         10\n5 waldon gs        s         45 dr       jf           5          5         10\n6 waldon gs        s        315 dr       jf           5          5         10\n7 waldon gs        e        225 dr       jf           8          5          9\n8 waldon gs        e        315 dr       jf          13          5          9\n# ℹ 24 more variables: notes &lt;chr&gt;, onehr &lt;dbl&gt;, tenhr &lt;dbl&gt;, hundhr &lt;dbl&gt;,\n#   duff_litter1 &lt;dbl&gt;, pct_litter1 &lt;dbl&gt;, fbd1 &lt;dbl&gt;, duff_litter2 &lt;dbl&gt;,\n#   pct_litter2 &lt;dbl&gt;, fbd2 &lt;dbl&gt;, live_woody1 &lt;dbl&gt;, dead_woody1 &lt;dbl&gt;,\n#   avg_w_ht1 &lt;dbl&gt;, live_herb1 &lt;dbl&gt;, dead_herb1 &lt;dbl&gt;, avg_h_ht1 &lt;dbl&gt;,\n#   live_woody2 &lt;dbl&gt;, dead_woody2 &lt;dbl&gt;, avg_w_ht2 &lt;dbl&gt;, live_herb2 &lt;dbl&gt;,\n#   dead_herb2 &lt;dbl&gt;, avg_h_ht2 &lt;dbl&gt;, species1 &lt;chr&gt;, species2 &lt;chr&gt;\n\n$coarse_woody\n# A tibble: 20 × 6\n   site   treatment corner   azi   dia decay\n   &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 waldon gs        n        135     9     5\n 2 waldon gs        n        135    13     2\n 3 waldon gs        n        248    48     3\n 4 waldon gs        n        248    10     5\n 5 waldon gs        w         45    16     5\n 6 waldon gs        w         45    15     5\n 7 waldon gs        w         45    14     5\n 8 waldon gs        w         45    14     5\n 9 waldon gs        w        135    32     3\n10 waldon gs        w        135    12     4\n11 waldon gs        w        135    30     5\n12 waldon gs        s         45    28     4\n13 waldon gs        s         45    42     5\n14 waldon gs        s        315    26     3\n15 waldon gs        e        225    15     4\n16 waldon gs        e        225    13     3\n17 waldon gs        e        225    18     5\n18 waldon gs        e        225    34     3\n19 waldon gs        e        315    26     4\n20 waldon gs        e        315    12     5\n\n\nWhile the wide format for the transect data is not ideal, it is convenient because we not working with many linked tables. This requires extra work at analysis time to expand data stored in column names. By this, I am refering to the columns which are followed by a number (1 or 2) which describe the location along the transect where the data was taken. To analze these data, they will first need to be pivoted into a longer format, where the station (1 or 2) becomes an explicit column."
  },
  {
    "objectID": "data_description.html#data-variable-descriptions",
    "href": "data_description.html#data-variable-descriptions",
    "title": "2  Data description",
    "section": "3.2 Data variable descriptions",
    "text": "3.2 Data variable descriptions\nThe following is a descripton of the data variables for each of the tables in the data list. So, the $plots heading refers to the table found in data$plots. This data structure is subject to change, but for now, has 3 tables. $plots has plot level data including the lengths of transects (which are the same across all transects, but included for clarity). $transects contains all the fuel data associated with a given transect, including both vegetation stations, in wide format (one row for each transect). Finally, $coarse_woody contains coarse woody debris in a long format (multiple rows for each transect).\n\n3.2.1 The vegetation sampling cylinder\nReference is made the vegetation sampling cylinder below. It is an imaginary, vertical cylinder with a radius of 1 meter and a variable height equal to the maxiumm height of sprout or shrub vegetation within the cylinders radius. There are two vegetation sampling cylinders on each transect and their centers are defined by the transects two metermarks. Duff, litter, and fuel bed depth in addition to the vegetation measurements, are all recorded within these cylinders.\n\n\n3.2.2 $plots\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nsite\n\n\n\ntreatment\n\n\n\ndate\n\n\n\nonehr\nDistance from end of transect for which 1-hr fuels were counted\n\n\ntenhr\nDistance from end of transect for which 10-hr fuels were counted\n\n\nhundhr\nDistance from end of transect for which 100-hr fuels were counted\n\n\nthoushr\nDistance from end of transect for which 1000-hr fuels were counted\n\n\ntrans_count\nnumber of transects on macro plot\n\n\nnotes\n\n\n\n\n\n\n3.2.3 $transects\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nsite\nOne of four different sites: whiskey, waldon, waldos, and camp6\n\n\ntreatment\nOne of HD=High density, dispersed retention, LD=Low density dispersed retention, MD=Medium densty dispersed retention, HA=High density aggreagated retention, GS=Group selection opening (1 ha, centered on plot)\n\n\ncorner\nOne of n,s,e,w for “diamond” plost and one of ne, nw, se, sw for “square” plots\n\n\nazi\nactual azimuth from corner to end of fuel transect, deg\n\n\nfwd_crew\nInitials of person performing fuel counts and measuring litter, duff, and FBD\n\n\nveg_crew\nInitials of person estimating vegetation cover\n\n\nslope\nslope in percent, measured with clinometer\n\n\nmetermark1\nlocantion along transect of first veg. station m\n\n\nmetermark2\nlocantion along transect of first veg. station m\n\n\nnotes\nTransect specific notes\n\n\nonehr\nCount of down woody fuels &lt;0.6 cm for the lenght of the 1-hr transect, redwood leaflets less than about 2 mm were not counted as one hour fuels\n\n\ntenhr\nCount of down woody fuels &gt;= 0.6 and &lt; 2.5 cm\n\n\nhundhr\nCount of down woody fuels &gt;= 2.5 and &lt; 8 cm\n\n\nduff_litter1\nCombined duff and litter depth from a representative location within a 1-meter radius circle centered at metermark, cm\n\n\npct_litter1\nPercent of duff_litter depth compose of litter: percent\n\n\nfbd1\nEstimated average height of litter and downed woody debris within the vegetation sampling cylinder, 1 m radius, centered at metermark\n\n\nduff_litter2\n\n\n\npct_litter2\n\n\n\nfbd2\n\n\n\nlive_woody1\nTotal projected ground cover of all live woody plant parts within 1-meter-radius sampling cylinder of height equal to the height of the shrub or sprout vegetaion within the cylinders radius, 0-100 percent\n\n\ndead_woody1\nTotal projected ground cover of all dead woody plant parts connected to live or standing dead plants, within the vegetation sampling cylinder 0-100 percent\n\n\navg_w_ht1\nAverage maximum height of all live and dead woody plants in vegetation sampling cylinder(see Estimating Height in Firemon protocol)\n\n\nlive_herb1\nTotal projected ground cover of live herbs in the vegetation sampling cylinder\n\n\ndead_herb1\nTotal projected ground cover of dead herbs in the vegetation sampling cylinder\n\n\navg_h_ht1\nAverage height of live and dead herbs in the vegetation sampling cylinder\n\n\nlive_woody2\n\n\n\ndead_woody2\n\n\n\navg_w_ht2\n\n\n\nlive_herb2\n\n\n\ndead_herb2\n\n\n\navg_h_ht2\n\n\n\nspecies1\nDominant woody species within sampling cylinder, each species is assumed to occupy an equal portion of volume, under-represented species are ignored\n\n\nspecies2\n\n\n\n\n\n\n3.2.4 $coarse_woody\n\n\n\n\n\n\n\nVariable\nDescription\n\n\n\n\nsite\n\n\n\ntreatment\n\n\n\ncorner\n\n\n\nazi\n\n\n\ndia\n\n\n\ndecay\nDecay class 1-5, 1=Fine branches still present, 2=Some branches and bark missing, 3=most branches and much bark missing potentially minor decay, 4=Significant decay, 5=Almost completely rotten"
  },
  {
    "objectID": "work_log.html",
    "href": "work_log.html",
    "title": "3  Work log",
    "section": "",
    "text": "The following is a log of the work completed for this project\n\n2023-5-26\n\nDeveloped data input format\n\none file for each plot\n\nCreated R function to ingest a datasheet in the specified format\nDocumented the input format and processing function\nFuel data entered for 7 replicates\n\n\n\n2023-05-23\n\nwork on development environment for coding\n\n\n\n2023-05-22\n\nInitialized project as a quarto book\n\nlearning to use Quarto building analysis website\nset up GitHub repository\nstart log to track progress"
  }
]